(this.webpackJsonptrails=this.webpackJsonptrails||[]).push([[0],{21:function(e,t,s){},51:function(e,t,s){"use strict";s.r(t);var i=s(1),a=s.n(i),c=s(15),r=s.n(c),n=(s(21),s.p+"static/media/icon-user.50d7a011.svg"),l=s(2),o=s(0),d=Object(i.createContext)(),j=function(e){var t=e.children,s=Object(i.useState)([]),a=Object(l.a)(s,2),c=a[0],r=a[1],n=Object(i.useState)(!1),j=Object(l.a)(n,2),b=j[0],u=j[1],h=Object(i.useState)([]),m=Object(l.a)(h,2),O=m[0],x=m[1],p=Object(i.useState)([]),g=Object(l.a)(p,2),_=g[0],f=g[1],v=Object(i.useState)([]),N=Object(l.a)(v,2),S=N[0],k=N[1];return Object(o.jsx)(d.Provider,{value:{trailsList:c,setTrailsList:r,modalVisible:b,setModalVisible:u,trail:O,setTrail:x,grade:_,setGrade:f,subscription:S,setSubscription:k},children:t})};function b(){var e=Object(i.useContext)(d).subscription;return Object(o.jsx)("header",{children:Object(o.jsxs)("article",{children:[Object(o.jsx)("p",{children:"inscri\xe7\xf5es: "+e.length}),Object(o.jsx)("img",{src:n,alt:"user icon"})]})})}var u=s.p+"static/media/banner-home.da5dfc0e.png",h=s(10),m=s(4),O=s.n(m),x=s(9),p=s(16),g=s.n(p),_=(s(39),s(40),s(6)),f=s.n(_);function v(){var e=Object(i.useContext)(d),t=e.trailsList,s=e.setTrailsList,a=e.setModalVisible,c=e.setTrail,r=e.setGrade,n="https://60e2ee6f9103bd0017b47673.mockapi.io/api/v1/trails/";function l(){return(l=Object(x.a)(O.a.mark((function e(t){var s,i,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.grade[0],e.next=3,fetch(n+s.trailId+"/trails-grade/"+s.id+"/courses");case 3:return i=e.sent,e.next=6,i.json();case 6:l=e.sent,200===i.status?(r(l),c(t),a(!0)):(f.a.fire({icon:"error",title:"Oops...",text:"Ocorreu um erro inesperado, por favor tente mais tarde"}),console.log(i));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){function e(){return(e=Object(x.a)(O.a.mark((function e(){var t,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,200===t.status?s(i):console.log(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),Object(o.jsx)(o.Fragment,{children:t.length>0?Object(o.jsx)("ul",{className:"trails__list","data-testid":"trails-list",children:Object(o.jsx)(g.a,Object(h.a)(Object(h.a)({},{dots:!0,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:1400,settings:{slidesToShow:2,slidesToScroll:1,dots:!0,variableWidth:!0}},{breakpoint:916,settings:{slidesToShow:1,slidesToScroll:1,dots:!0,variableWidth:!0,arrows:!1}}]}),{},{children:t.map((function(e){return Object(o.jsxs)("li",{className:"trails__item",children:[Object(o.jsx)("figure",{className:"trails__item--image",children:Object(o.jsx)("img",{src:e.image,alt:"trail background"})}),Object(o.jsxs)("article",{children:[Object(o.jsx)("h2",{className:"trails__item--title",children:e.name}),Object(o.jsx)("p",{className:"trails__item--description",children:e.description}),Object(o.jsx)("div",{className:"trails__item--button",children:Object(o.jsx)("button",{onClick:function(){return function(e){return l.apply(this,arguments)}(e)},children:"detalhes"})})]})]},e.id)}))}))}):Object(o.jsx)("h1",{children:"Carregando trilhas...."})})}var N=s.p+"static/media/icon-close.b9497358.svg";function S(){var e=Object(i.useContext)(d),t=e.trail,s=e.grade,a=e.subscription,c=e.setModalVisible;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("article",{children:[Object(o.jsx)("h2",{className:"modal__title",id:"dialog1_label",children:t.name}),Object(o.jsx)("p",{className:"modal__description",id:"dialog1_desc",children:t.description}),Object(o.jsx)("div",{className:"modal__button",children:a.includes(t.id)?Object(o.jsx)("h3",{children:"Inscrito"}):Object(o.jsx)("button",{onClick:function(){return e=t.id,a.push(e),f.a.fire("","Inscri\xe7\xe3o realizada com sucesso!","success"),void c(!1);var e},type:"button",children:"inscrever-se"})})]}),Object(o.jsx)("nav",{className:"modal__grade",children:Object(o.jsx)("ul",{className:"modal__grade--list",children:s.map((function(e){var t=e.name,s=e.hours,i=e.id;return Object(o.jsxs)("li",{className:"modal__grade--item",children:[Object(o.jsx)("h3",{children:t}),Object(o.jsx)("p",{children:s+" horas"})]},i)}))})})]})}function k(){var e=Object(i.useContext)(d),t=e.modalVisible,s=e.setModalVisible;return Object(o.jsx)(o.Fragment,{children:t?Object(o.jsx)("div",{className:"modal","data-testeid":"modal",tabIndex:"-1",children:Object(o.jsxs)("div",{className:"modal__content","aria-modal":"true",id:"dialog1",role:"dialog","aria-labelledby":"dialog1_label","aria-describedby":"dialog1_desc",children:[Object(o.jsx)("div",{className:"modal__close",children:Object(o.jsx)("img",{src:N,onClick:function(){return s(!1)},alt:"bot\xe3o para fechar a caixa de dialogo",id:"dialog1_close"})}),Object(o.jsx)(S,{})]})}):null})}function w(){return Object(o.jsxs)("div",{className:"home","aria-hidden":"true",children:[Object(o.jsx)(b,{}),Object(o.jsxs)("section",{className:"home__top",children:[Object(o.jsxs)("div",{className:"home__title",children:[Object(o.jsx)("h1",{children:"zup"}),Object(o.jsx)("h2",{children:"trails"})]}),Object(o.jsx)("figure",{className:"home__banner",children:Object(o.jsx)("img",{src:u,alt:"arte digital mostrando tr\xeas pessoas sobre um notebook gigante, colocando componentes na tela"})})]}),Object(o.jsx)("section",{className:"home__trails",children:Object(o.jsx)(v,{})}),Object(o.jsx)(k,{})]})}var T=function(){return Object(o.jsx)("main",{"data-testid":"main",children:Object(o.jsx)(j,{children:Object(o.jsx)(w,{})})})};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(T,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.89b04554.chunk.js.map